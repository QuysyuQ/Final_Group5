<div class="account">
    <div class="account-container">
        <div class="left-sidebar">
            <div class="avatar">
                <img src="https://e7.pngegg.com/pngimages/705/224/png-clipart-user-computer-icons-avatar-miscellaneous-heroes.png" alt="Ảnh đại diện">
            </div>
            <div class="menu">
                <button class="menu-item"><a href="account">Thông tin cá nhân</a></button>
                <button class="menu-item"><a href="order-history">Đơn hàng</a></button>
                <button class="menu-item logout" (click)="onLogOut()">Đăng xuất</button>
            </div>
        </div>
        <div class="right-content">
            <h1>Thông tin tài khoản</h1>
            <div class="account-info">
                <div class="detail">
                    <label for="fullname">Họ và tên:</label>
                    <input type="text" name="fullname" id="fullname" [(ngModel)]="account.fullName">
                </div>
                <div class="detail">
                    <label for="username">Tên đăng nhập:</label>
                    <input type="text" name="username" id="username" [(ngModel)]="account.userName">
                </div>
                <div class="detail">
                    <label for="email">Email:</label>
                    <input type="text" name="email" id="email" [(ngModel)] = "account.email">
                </div>
                <div class="detail">
                    <label for="phoneNumber">Số điện thoại</label>
                    <input type="text" name="phoneNumber" id="phoneNumber" [(ngModel)]="account.phoneNumber">
                </div>
                <div class="detail">
                    <label for="address">Địa chỉ:</label>
                    <input type="text" name="address" id="address" [(ngModel)]="account.address" >
                </div>
            </div>
            <button class="btn-edit" (click)="onSubmit()">Chỉnh sửa thông tin</button>
            <button class="btn-edit" (click)="openChangePasswordModal(changePasswordModal)" style="margin-left: 20px;">Thay đổi mật khẩu</button>
        </div>
    </div>
</div>

<ng-template #changePasswordModal let-modal>
    <div class="modal-header">
      <h4 class="modal-title">Thay đổi mật khẩu</h4>
      <button type="button" class="btn-close" (click)="modal.close()"></button>
    </div>
    <div class="modal-body">
      <form (ngSubmit)="onChangePasswordSubmit(account.id)">
        <div class="form-group">
          <label for="newPassword">Mật khẩu mới</label>
          <input type="password" class="form-control" id="newPassword"  name="newPassword" required [(ngModel)]="newPassword">
        </div>
        <div class="form-group">
          <label for="confirmPassword">Xác nhận mật khẩu mới</label>
          <input type="password" class="form-control" id="confirmPassword"  name="confirmPassword"  required [(ngModel)]="confirmNewPassword">
        </div>
        <p *ngIf="passwordError" style="font-size: 15px;color: red;">{{ passwordError }}</p>
        <button type="submit" class="btn btn-primary" style="margin-top: 20px;">Thay đổi mật khẩu</button>
      </form>
    </div>
  </ng-template>